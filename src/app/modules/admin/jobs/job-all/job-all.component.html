<div class="main">

  <div class="sub-menu" style="justify-content: space-between">
    <div style="display: flex;justify-content: center">
      <mat-icon style="color: #3182CE;margin-right: 5px">public</mat-icon>
      <div style="font-weight: bold">
        Job Management
      </div>
    </div>
    <div class="btn-sec">
      <button class="btn btn-custom" mat-raised-button (click)="openModal()">Door</button>
      <button class="btn btn-custom" mat-raised-button (click)="openWindowModal()">Window</button>
    </div>
  </div>
  <mat-card class="result" style="">
    <mat-card-content>
  <section class="example-section">
    <mat-slide-toggle
      class="example-margin"
      [color]="color"
      [checked]="!checked"
      (change)="onSlideToggleChange($event)"
      >
      <span>{{status}}</span>
    </mat-slide-toggle>
  </section>
    </mat-card-content>
  </mat-card>

  <div style="border-radius: 30px">
    <table class="table-users" mat-table #table [dataSource]="dataSource">

      <!-- Position Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> Id </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> {{element.id}}
        </td>
      </ng-container>

      <ng-container matColumnDef="creationType">
        <th mat-header-cell *matHeaderCellDef> Creation Type </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> {{element.creationType}}
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="dueDate">
        <th mat-header-cell *matHeaderCellDef> Due Date </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> {{element.dueDate}} </td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef> Type </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> {{element.type}}</td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="progress">
        <th mat-header-cell *matHeaderCellDef> Progress </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)">
          <span *ngIf="element.progress=='NEW'" class="badge badge-primary rounded-pill d-inline" style=" background: #05c923;"
        > {{element.progress}}</span>
          <span *ngIf="element.progress!='NEW'" class="badge badge-primary rounded-pill d-inline" style=" background: #02808f;"
          > {{element.progress}}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="qty">
        <th mat-header-cell *matHeaderCellDef> Qty </th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> {{element.qty}} </td>
      </ng-container>

      <ng-container matColumnDef="createdBy">
        <th mat-header-cell *matHeaderCellDef> Created By</th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)"> Manusha Silva </td>
      </ng-container>

      <ng-container matColumnDef="code">
        <th mat-header-cell *matHeaderCellDef>Product Code</th>
        <td mat-cell *matCellDef="let element" (click)="onRowClick(element)">
          <span *ngIf="element.stockItem.type=='DOOR'">
             {{element.stockItem.door.code}}
          </span>
          <span *ngIf="element.stockItem.type=='WINDOWS'">
             {{element.stockItem.windows.code}}
          </span>

        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Action </th>
        <td mat-cell *matCellDef="let element">
<!--          <button class="table-icon" mat-icon-button (click)="test()" [disabled]="disabled">-->
<!--            <mat-icon >create</mat-icon>-->
<!--          </button>-->
          <button class="table-icon" mat-icon-button (click)="delete(element)" [disabled]="disabled">
<!--            <mat-icon>delete_outline</mat-icon>-->
            <mat-icon>cancel</mat-icon>
          </button>

        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
      <tr class="mat-row empty-table" *matNoDataRow>
        <td class="mat-cell" colspan="12">No data matching the filter</td>
      </tr>

    </table>
  </div>
  <mat-paginator
  [length]="totalPage"
  [pageSizeOptions]="pageSize"
  (page)="onPageChange ($event)"
  showFirstLastButtons>
  </mat-paginator>

</div>
